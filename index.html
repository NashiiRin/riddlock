<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>指定のWebサイト</title>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            font-family: sans-serif;
            overflow: hidden; 
        }

        body {
            background-color: #1a1a1a; 
            color: #f0f0f0; 
            position: relative; 
        }

        .right-container {
            position: absolute;
            top: 0;
            right: 0;
            width: 50%; 
            height: 100vh; 
            padding: 20px;
            box-sizing: border-box; 
            display: flex;
            flex-direction: column; 
            justify-content: center; 
            align-items: center; 
            gap: 20px;
        }

        .image-stack-container {
            position: relative; 
            display: flex; 
            justify-content: center;
            align-items: center;
            width: 100%; 
            height: auto; 
            z-index: 10; 
        }

        .background-image {
            max-width: 70%; 
            height: auto;
            display: block; 
        }

        .overlay-content {
            position: absolute; 
            top: 50%; 
            left: 50%; 
            transform: translate(-50%, -50%); 
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            width: 100%; 
            height: 100%; 
            gap: 10px; 
        }
        
        .overlay-button {
            max-width: 35%; 
            height: auto;
        }
        
        .overlay-button.button-small {
            max-width: 17.5%; 
        }

        .overlay-button:active {
            filter: brightness(0.7); 
        }

        .mic-icon {
            max-width: 20%; 
            height: auto;
            margin-bottom: 10px;
        }

        /* --- アニメーション用スタイル --- */

        /* pic-03〜pic-07 が表示されるコンテナ */
        #animation-container {
            position: absolute;
            /* right-container の中で上下中央に配置 */
            top: 50%; 
            left: 50%;
            transform: translate(-50%, -50%);
            /* 親の right-container の幅いっぱいに使う */
            width: 100%; 
            /* 画像がずれて表示される領域を確保 (コンテンツに合わせて調整) */
            height: 400px; 
            pointer-events: none; 
            z-index: 20; 
            /* Flexboxで中の画像を中央に寄せる */
            display: flex;
            justify-content: center;
            align-items: center;
            /* 画像がずれるので、はみ出しを許可 */
            overflow: visible; 
        }

        /* アニメーションで表示される画像 */
        .animated-pic {
            position: absolute;
            /* ★変更点★ 2.5倍の大きさ (35% * 2.5 = 87.5%) */
            max-width: 87.5%; 
            height: auto;
            opacity: 0; 
            transition: opacity 0.3s ease; 
            /* 中央からのずれをJavaScriptで制御するため、top/leftは初期値50% */
            top: 50%;
            left: 50%;
            /* 自身の中心を基準に位置を調整 */
            transform: translate(-50%, -50%);
        }

    </style>
</head>
<body>

    <div class="right-container">
        
        <div class="image-stack-container">
            <img src="pic-01.png" alt="Pic 01" class="background-image">
            <div class="overlay-content">
                <img src="button-01.png" alt="スキャン開始ボタン" class="overlay-button" id="scanButton">
            </div>
        </div>
        
        <div class="image-stack-container">
            <img src="pic-02.png" alt="Pic 02" class="background-image">
            <div class="overlay-content">
                <img src="mic.png" alt="マイクアイコン" class="mic-icon">
                <img src="button-02.png" alt="OKボタン" class="overlay-button button-small">
            </div>
        </div>

        <div id="animation-container"></div>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            document.body.addEventListener('touchstart', function() {}, false);

            const scanButton = document.getElementById('scanButton');
            const animationContainer = document.getElementById('animation-container');
            
            const imagesToShow = [
                'pic-03.png',
                'pic-04.png',
                'pic-05.png',
                'pic-06.png',
                'pic-07.png'
            ];
            
            let animationStarted = false;

            if (scanButton) {
                scanButton.addEventListener('click', function() {
                    if (animationStarted) return; 
                    animationStarted = true;

                    animationContainer.innerHTML = ''; 

                    imagesToShow.forEach((src, index) => {
                        setTimeout(() => {
                            const img = document.createElement('img');
                            img.src = src;
                            img.className = 'animated-pic';
                            
                            // 1枚ごとに右下にずらす (元の画像が中央にあると仮定して計算)
                            const offset = index * 25; // 25pxずつずらす
                            
                            // transform: translate(-50%, -50%) で中央に配置後、さらにずらす
                            img.style.transform = `translate(calc(-50% + ${offset}px), calc(-50% + ${offset}px))`;
                            
                            animationContainer.appendChild(img);
                            
                            setTimeout(() => {
                                img.style.opacity = 1;
                            }, 50); 

                        }, index * 500); // index * 0.5秒
                    });
                });
            }
        });
    </script>
</body>
</html>

